/*! UIkit 2.11.0 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */
!function(e){var t;jQuery&&jQuery.UIkit&&(t=e(jQuery,jQuery.UIkit)),"function"==typeof define&&define.amd&&define("uikit-sortable",["uikit"],function(){return t||e(jQuery,jQuery.UIkit)})}(function(e,t){"use strict";function n(e,t){var n=e.parentNode;if(t.parentNode!=n)return!1;for(var o=e.previousSibling;o&&9!==o.nodeType;){if(o===t)return!0;o=o.previousSibling}return!1}function o(e,t){var n=t;if(n==e)return null;for(;n;){if(n.parentNode===e)return n;if(n=n.parentNode,!n||!n.ownerDocument||11===n.nodeType)break}return null}function a(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}var s,r,i,l,d,u="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,h=!u&&function(){var e=document.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e}();return h=!1,t.component("sortable",{defaults:{warp:!1,animation:150,threshold:10,childClass:"uk-sortable-item",placeholderClass:"uk-sortable-placeholder",overClass:"uk-sortable-over",draggingClass:"uk-sortable-dragged",dragMovingClass:"uk-sortable-moving",dragCustomClass:"",handleClass:!1,stop:function(){},start:function(){},change:function(){}},init:function(){function t(t){return function(n){var a=u&&n.touches&&n.touches[0]||{},s=a.target||n.target;if(u&&document.elementFromPoint&&(s=document.elementFromPoint(n.pageX-document.body.scrollLeft,n.pageY-document.body.scrollTop)),e(s).hasClass(c.options.childClass))t.apply(s,[n]);else if(s!==f){var r=o(f,s);r&&t.apply(r,[n])}}}function n(){h||(u?f.addEventListener("touchmove",T,!1):(f.addEventListener("mouseover",b,!1),f.addEventListener("mouseout",y,!1)),f.addEventListener(u?"touchend":"mouseup",w,!1),document.addEventListener(u?"touchend":"mouseup",E,!1),document.addEventListener("selectstart",a,!1))}function p(){h||(u?f.removeEventListener("touchmove",T,!1):(f.removeEventListener("mouseover",b,!1),f.removeEventListener("mouseout",y,!1)),f.removeEventListener(u?"touchend":"mouseup",w,!1),document.removeEventListener(u?"touchend":"mouseup",E,!1),document.removeEventListener("selectstart",a,!1))}var c=this,f=this.element[0],v=null,m=null;h?this.element.children().attr("draggable","true"):this.element.on("mousedown touchstart","a[href]",function(t){t.ctrlKey||t.metaKey||t.shiftKey||(l=e(this))}).on("click","a[href]",function(t){return t.ctrlKey||t.metaKey||t.shiftKey?void 0:(l=e(this),t.stopImmediatePropagation(),!1)});var g=t(function(t){r=!1,i=!1;{var o=e(t.target);c.element.children()}if(u||2!=t.button){if(c.options.handleClass){var a=o.hasClass(c.options.handleClass)?o:o.closest("."+c.options.handleClass,f);if(!a.length)return}t.dataTransfer&&(t.dataTransfer.effectAllowed="move",t.dataTransfer.dropEffect="move",t.dataTransfer.setData("Text","*")),v=this,s&&s.remove();var l=e(v),p=l.offset();d={pos:{x:t.pageX,y:t.pageY},threshold:c.options.threshold,apply:function(){s=e('<div class="'+[c.options.draggingClass,c.options.dragCustomClass].join(" ")+'"></div>').css({display:"none",top:p.top,left:p.left,width:l.width(),height:l.height(),padding:l.css("padding")}).data("mouse-offset",{left:p.left-parseInt(t.pageX,10),top:p.top-parseInt(t.pageY,10)}).append(l.html()).appendTo("body"),s.$current=l,s.$sortable=c,n(),c.options.start(this,v),c.trigger("uk.sortable.start",[c,v]),d=!1}},h||t.preventDefault()}}),C=t(function(e){return v?(e.preventDefault&&e.preventDefault(),!1):!0}),b=t(e.UIkit.Utils.debounce(function(){if(!v||v===this)return!0;var t=c.dragenterData(this);return c.dragenterData(this,t+1),0===t&&(e(this).addClass(c.options.overClass),c.options.warp||c.moveElementNextTo(v,this)),!1}),40),y=t(function(){var t=c.dragenterData(this);c.dragenterData(this,t-1),c.dragenterData(this)||(e(this).removeClass(c.options.overClass),c.dragenterData(this,!1))}),w=t(function(e){if("drop"===e.type&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()),i){if(c.options.warp){var t=v.nextSibling;this.parentNode.insertBefore(v,this),this.parentNode.insertBefore(this,t)}c.options.change(this,v),c.trigger("uk.sortable.change",[c,v])}}),E=function(){v=null,m=null,c.element.children().each(function(){1===this.nodeType&&(e(this).removeClass(c.options.overClass).removeClass(c.options.placeholderClass).removeClass(c.options.childClass),c.dragenterData(this,!1))}),e("html").removeClass(c.options.dragMovingClass),p(),c.options.stop(this),c.trigger("uk.sortable.stop",[c]),s.remove(),s=null},T=t(function(t){return v&&v!==this&&m!==this?(c.element.children().removeClass(c.options.overClass),m=this,c.options.warp?e(this).addClass(c.options.overClass):c.moveElementNextTo(v,this),a(t)):!0});h?(f.addEventListener("dragstart",g,!1),f.addEventListener("dragenter",b,!1),f.addEventListener("dragleave",y,!1),f.addEventListener("drop",w,!1),f.addEventListener("dragover",C,!1),f.addEventListener("dragend",E,!1)):f.addEventListener(u?"touchstart":"mousedown",g,!1)},dragenterData:function(t,n){return t=e(t),1==arguments.length?parseInt(t.attr("data-child-dragenter"),10)||0:(n?t.attr("data-child-dragenter",Math.max(0,n)):t.removeAttr("data-child-dragenter"),void 0)},moveElementNextTo:function(o,a){i=!0;var s=this,r=e(o).parent().css("min-height",""),l=n(o,a)?a:a.nextSibling,d=r.children(),u=d.length;return s.options.warp||!s.options.animation?(a.parentNode.insertBefore(o,l),t.Utils.checkDisplay(s.element.parent()),void 0):(r.css("min-height",r.height()),d.stop().each(function(){var t=e(this),n=t.position();n.width=t.width(),t.data("offset-before",n)}),a.parentNode.insertBefore(o,l),t.Utils.checkDisplay(s.element.parent()),d=r.children().each(function(){var t=e(this);t.data("offset-after",t.position())}).each(function(){var t=e(this),n=t.data("offset-before");t.css({position:"absolute",top:n.top,left:n.left,"min-width":n.width})}),d.each(function(){var n=e(this),o=(n.data("offset-before"),n.data("offset-after"));n.css("pointer-events","none").width(),setTimeout(function(){n.animate({top:o.top,left:o.left},s.options.animation,function(){n.css({position:"",top:"",left:"","min-width":"","pointer-events":""}).removeClass(s.options.overClass).attr("data-child-dragenter",""),u--,u||(r.css("min-height",""),t.Utils.checkDisplay(s.element.parent()))})},0)}),void 0)}}),t.ready(function(n){e("[data-uk-sortable]",n).each(function(){var n=e(this);if(!n.data("sortable")){t.sortable(n,t.Utils.options(n.attr("data-uk-sortable")))}})}),e("html").on("mousemove touchmove",function(n){if(d){var o=n.originalEvent.targetTouches?n.originalEvent.targetTouches[0]:n;(Math.abs(o.pageX-d.pos.x)>d.threshold||Math.abs(o.pageY-d.pos.y)>d.threshold)&&d.apply()}if(s){r||(r=!0,s.show(),s.$current.addClass(s.$sortable.options.placeholderClass),s.$sortable.element.children().addClass(s.$sortable.options.childClass),e("html").addClass(s.$sortable.options.dragMovingClass));var a=s.data("mouse-offset"),i=parseInt(n.originalEvent.pageX,10)+a.left,l=parseInt(n.originalEvent.pageY,10)+a.top;s.css({left:i,top:l}),l<t.$win.scrollTop()?t.$win.scrollTop(t.$win.scrollTop()-Math.ceil(s.height()/2)):l+s.height()>window.innerHeight+t.$win.scrollTop()&&t.$win.scrollTop(t.$win.scrollTop()+Math.ceil(s.height()/2))}}),t.$html.on("mouseup touchend",function(){!r&&l&&(location.href=l.attr("href")),d=l=!1}),t.sortable});